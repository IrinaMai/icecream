# icecream
https://www.figma.com/file/ItEDbn8bZ6c1BWMtTNFOHV/IceCream

Синтаксис#
<!-- ============================== -->
<picture>
  <source srcset="" media="" type="" />
  <source srcset="" media="" type="" />
  <img src="" alt="" />
</picture>
<!-- =================== -->

Элемент <picture> служит контейнером для одного или более элементов <source> и одного обязательного элемента <img>.

Браузер проверит каждый из элементов <source> и выберет самый подходящий. Чтобы выбрать оптимальное изображение, браузер анализирует атрибуты srcset, media, и type.
Если ни один из вариантов не подойдёт, будет выбрано изображение указанное в атрибуте src элемента <img> .
Выбранное изображение рисуется на холсте который занимает элемент <img>.

<!-- ========================================================================================= -->
Атрибут type#
Позволяет обозначить MIME-тип данных, указанных в атрибуте srcset. Если браузер не подерживает данный тип, то этот элемент <source> пропускается.

<!-- Если браузер не поддерживает svg-графику, будет загружен `icon.png` -->
​<picture>
  <source srcset="icon.svg" type="image/svg+xml" />
  <img src="icon.png" alt="Иконка" />
</picture>
<!-- ================================================================================================= -->
Атрибут media#
Позволяет определить медиа-запрос, который браузер будет анализировать для выбора элемента <source>. Если медиа-запрос определяется как ложный (не подходит), то этот элемент <source> пропускается.

<!-- Для экранов шире 600px будет загружен photo-wide.jpg -->
<picture>
  <source srcset="photo-wide.jpg" media="(min-width: 600px)" />
  <img src="photo.jpg" alt="Фотография" />
</picture>
Поддерджка современных форматов#
Элемент <picture> можно применять для загрузки изображений в современных форматах (например webp). Для браузеров которые не поддерживают такие форматы, указывается дефолное изображение в альтернативном формате (например jpg или png).

Следующий пример определяет элемент <picture>, который по умолчанию позволит браузерам загрузить photo.webp, при этом предоставляется альтернатива photo.jpg для браузеров которые еще не поддерживают этот формат.

<picture>
  <source srcset="photo.webp" type="image/webp" />
  <img src="photo.jpg" alt="Фотография" />
</picture>
Все варианты доступных изображений перечисляются в тегах <source>, которые будут последовально обрабатываться браузером.
<!-- ================================================================================================================== -->
Атрибут srcset#
Аналогично функционалу в теге <img>, позволяет указать набор вариантов изображений с дескрипторами x или w.

<picture>
  <source
    srcset="photo-300.webp 1x, photo-600.webp 2x, photo-1200w.webp 3x"
    type="image/webp"
  />
  <img
    srcset="photo-300.jpg 1x, photo-600.jpg 2x, photo-1200w.jpg 3x"
    src="photo-300.jpg"
    alt="Фотография"
    width="300"
  />
</picture>
<!-- ===================================================================================================================== -->
Кадрирование (art direction)#
Эффект art direction в отзывчивых изображениях с элементом picture
Техника кадрирования используется для загрузки различных изображений для каждого экрана. Это позволяет показать пользователю максимум полезной информации и деталей изображения даже на маленьких устройствах. Например, загружать альбомную (landscape) или книжную (portrait) версию изображения в зависимости от ориентации или разрешения устройства.

Перейдите в пример и изменяйте ширину окна браузера.

Для экранов шириной до 500px будет загружено портретное изображение 500x600 пикселей.
Для экранов шириной от 800px и шире, будет загружено ландшафтное изображение 1200x400 пикселей.
Для экранов шириной от 501px до 799px, будет загружено ландшафтное изображение 800x400 пикселей.

Для поддержики экранов с высокой плотностью пикселей, каждому элементу <source> необходимо добавить набор изображений с дескрипторами в атрибут srcset, и не забыть задать атрибут sizes.
https://codepen.io/goit-academy/pen/bGEWWEY

Добавим в код предыдущего примера поддержку ретины с плотностью x2 используя дескриптор w, так как изображение отзывчивое и не имеет фиксированных размеров.
https://codepen.io/goit-academy/pen/WNrjjZK




<!-- ================================================================================================================== -->
Отзывчивые фоновые изображения
Если необходимо добавить ретинизированное фоновое изображение, нужно указать путь к изображению и обязательно задать размер фона элемента равным размеру самого элемента.

.box {
  width: 200px;
  height: 300px;

  background-image: url('photo@2x.png');
  background-size: 200px 300px;
}
В случае когда размер элемента динамический и узнать его в CSS невозможно, размеру фона можно задать значения contain или cover, по ситуации, чтобы фон помещался в элементе.

.box {
  background-image: url('photo@2x.png');
  background-size: contain;
}
При таком подходе мы получим 2x изображение на любом экране. Поэтому существуют медиа-функции позволяющие определить плотность пикселей экрана в CSS. Внутри набора таких медиа-функций, переопределяем значение свостйва background-image.

.box {
  width: 480px;
  height: 320px;
  background-image: url('photo.png');
  background-size: 480px 320px;
}

@media screen and (min-device-pixel-ratio: 2),
  screen and (min-resolution: 192dpi),
  screen and (min-resolution: 2dppx) {
  .box {
    background-image: url('photo@2x.png');
  }
}
В медиа-функции min-device-pixel-ratio указывается просто значение пиксельной плотности экрана как число - коэфициент между физическими и CSS-пикселями. Так же необходимо указать функцию min-resolution с двумя разными значениями.

dpi (dots per inch) - количество физических пикселей на дюйм экрана. На экранах стандартной плотности пикселей в одном дюйме 96 точек.
dppx (dots per pixel) - количество физических пикселей в одном CSS-пикселе, другими словами это плотность пикселей. 1dppx = 96dpi.
Медиа-функция min-device-pixel-ratio поддерживается некоторыми браузерами только с вендорным префиксом, поэтому если обработать этот код автопрефиксером получим финальный вариант.

.box {
  width: 480px;
  height: 320px;
  background-image: url('photo.png');
  background-size: 480px 320px;
}

@media screen and (min-device-pixel-ratio: 2),
  screen and (-webkit-min-device-pixel-ratio: 2),
  screen and (-o-min-device-pixel-ratio: 2/1),
  screen and (min-resolution: 192dpi),
  screen and (min-resolution: 2dppx) {
  .box {
    background-image: url('photo@2x.png');
  }
}
ВНИМАНИЕ
Такая солянка из медиа-функций и их значений нужна потому что они еще не стандартизированы между всеми браузерами.

В примере задано одинаковое фоновое изображение в различных размерах для экранов с плотностью пикселей 1x, 2x и 3x.
https://codepen.io/goit-academy/pen/QWypwyg


